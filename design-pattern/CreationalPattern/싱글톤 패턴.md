## 싱글톤 패턴

### 싱글톤 패턴이란?

싱글톤 패턴은 클래스에 인스턴스가 하나만 있도록 하면서 이 인스턴스에 대한 전역 접근(액세스) 지점을 제공하는 생성 디자인 패턴이다.

이 패턴은 메모리 절약을 위해, 인스턴스가 필요할 때 똑같은 인스턴스를 새로 만들지 않고 기존의 인스턴스를 가져와 활용하는 패턴이다.

따라서 싱글톤 패턴이 적용된 객체가 필요한 경우는 그 객체가 리소스를 많이 차지하는 역할을 하는 무거운 클래스일때 적합하다.

### 싱글톤 패턴의 구조

![structure-ko-indexed](https://github.com/isprogrammingfun/TIL/assets/78543382/55acf4db-d05d-4352-a96c-d3af7c9e5223)

싱글톤 클래스는 정적 메서드 `getInstance()` 를 선언한다. 이 메서드에 생성자 초기화를 해주어, 만일 클라이언트가 싱글톤 클래스를 생성해서 사용하려면 `getInstance()` 라는 메서드 실행을 통해 instance 필드 변수가 null 일경우 초기화를 진행하고 null이 아닐경우 이미 생성된 객체를 반환하는 식으로 구성하면 된다.

싱글턴의 생성자는 항상 클라이언트 코드에서부터 숨겨져야 한다. `getInstance()` 메서드를 호출하는 것이 Singleton 객체를 가져올 수 있는 유일한 방법이어야 한다. 

### 언제 사용하는가?

1. 클래스에 모든 클라이언트가 사용할 수 있는 단일 인스턴스만 있어야 할 때. 
    - ex) 프로그램의 다른 부분들에서 공유되는 단일 데이터베이스 객체
2. 전역 변수들을 더 엄격하게 제어해야 할 때.

### 패턴 장점

1. 클래스가 하나의 인스턴스만 갖는다는 것을 확신할 수 있다.
2. 처음 요청될 때만 초기화되므로 자원 절약을 할 수 있다.

### 패턴 단점

1. 모듈간 의존성이 높아진다.
2. SOLID 원칙에 위배되는 사례가 많다. 
3. TDD 단위 테스트에 애로사항이 있다. 

### 참고자료

[https://inpa.tistory.com/entry/GOF-💠-싱글톤Singleton-패턴-꼼꼼하게-알아보자](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%8B%B1%EA%B8%80%ED%86%A4Singleton-%ED%8C%A8%ED%84%B4-%EA%BC%BC%EA%BC%BC%ED%95%98%EA%B2%8C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90)

https://refactoring.guru/ko/design-patterns/singleton